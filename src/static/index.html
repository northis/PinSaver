<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pinterest Archive</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="manifest" href="/static/manifest.json">
    <meta name="theme-color" content="#e60023">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/static/icon-192.png">
</head>
<body>
    <header>
        <div class="header-top">
            <h1>üìå Pinterest Archive</h1>
            <div class="header-controls">
                <a href="/add" class="add-pin-btn" title="Add Pin">+ Add</a>
                <div class="sort-controls">
                    <button class="sort-btn active" data-sort="newest">Newest</button>
                    <button class="sort-btn" data-sort="oldest">Oldest</button>
                    <button class="sort-btn" data-sort="random">Random</button>
                </div>
            </div>
        </div>
        <div class="stats" id="stats">Loading...</div>
    </header>

    <div class="container">
        <div class="masonry" id="masonry"></div>
        <div class="sentinel" id="sentinel"></div>
        <div class="loading" id="loading">
            <div class="loading-spinner"></div>
            <div>Loading pins...</div>
        </div>
    </div>

    <!-- Carousel modal -->
    <div class="carousel-overlay" id="carouselOverlay">
        <div class="carousel-container">
            <button class="carousel-close" onclick="hideCarousel()" title="Close">‚úï</button>
            <button class="carousel-btn carousel-btn-prev" id="carouselPrev" onclick="carouselPrev()" title="Previous">‚ùÆ</button>
            <div class="carousel-image-wrapper">
                <img class="carousel-image" id="carouselImage" src="" alt="Pin image">
            </div>
            <button class="carousel-btn carousel-btn-next" id="carouselNext" onclick="carouselNext()" title="Next">‚ùØ</button>
            <div class="carousel-info">
                <span class="carousel-counter" id="carouselCounter">1 / 100</span>
                <a class="carousel-link" id="carouselLink" href="#" target="_blank" rel="noopener noreferrer">Open on Pinterest ‚Üó</a>
            </div>
        </div>
    </div>

    <!-- Delete confirmation modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal">
            <h3>Delete Pin?</h3>
            <p>Are you sure you want to delete pin <strong id="deletePinId"></strong> from the archive?</p>
            <label class="modal-checkbox">
                <input type="checkbox" id="deleteFileCheckbox">
                Also delete the image file
            </label>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" onclick="hideDeleteModal()">Cancel</button>
                <button class="modal-btn modal-btn-delete" onclick="confirmDelete()">Delete</button>
            </div>
        </div>
    </div>

    <script src="/static/app.js"></script>
</body>
</html>
